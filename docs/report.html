<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HTML Report Template — Dead Code Detector</title>
    <meta name="description"
          content="Dead Code Detector — Gradle plugin to find unused classes, resources and dependencies.">
    <meta name="keywords" content="Aria Danesh, aria danesh, Aria danesh, aria Danesh,arya danesh,Arya danesh,Arya Danesh,dead code, gradle plugin, kotlin, java, unused dependencies, aria danesh">
    <meta name="author" content="Aria Danesh">
    <meta name="geo.region" content="IR"/>
    <meta name="geo.placename" content="Tehran"/>
    <meta name="geo.position" content="35.6892;51.3890"/>
    <meta name="ICBM" content="35.6892, 51.3890"/>
    <meta name="robots" content="index,follow"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <meta property="og:title" content="Dead Code Detector — Docs"/>
    <meta property="og:description" content="Find unused code, resources and dependencies in Kotlin/Java projects."/>
    <meta property="og:type" content="website"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <style>
        :root {
            --accent: #7c3aed;
            --bg: #08101a;
            --card: #0f1724;
            --muted: #9aa4b2
        }

        html, body {
            margin: 0;
            padding: 0;
            font-family: Inter, system-ui, Arial;
            background: var(--bg);
            color: #e6eef6
        }

        a {
            color: var(--accent)
        }

        header {
            backdrop-filter: blur(6px);
            position: sticky;
            top: 0;
            z-index: 40;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.00));
        }

        .nav {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 18px
        }

        .brand {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .brand h1 {
            font-size: 18px;
            margin: 0
        }

        nav a {
            margin-left: 14px;
            font-size: 14px;
            color: var(--muted)
        }

        .container {
            max-width: 1100px;
            margin: 36px auto;
            padding: 0 18px
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border: 1px solid rgba(255, 255, 255, 0.04);
            padding: 20px;
            border-radius: 12px
        }

        pre {
            background: #071226;
            padding: 14px;
            border-radius: 10px;
            overflow: auto
        }

        footer {
            max-width: 1100px;
            margin: 24px auto;
            padding: 20px;
            color: var(--muted);
            text-align: center
        }

        .muted {
            color: var(--muted)
        }

        .kbd {
            background: #091827;
            border-radius: 6px;
            padding: 6px 8px;
            font-family: ui-monospace, monospace
        }
    </style>
</head>
<body>
<header>
    <div class="nav">
        <div class="brand">
            <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden>
                <rect width="24" height="24" rx="6" fill="#7c3aed"/>
            </svg>
            <div>
                <h1>Dead Code Detector</h1>
                <div class="muted" style="font-size:12px">Gradle plugin • by Aria Danesh</div>
            </div>
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="installation.html">Installation</a>
            <a href="configuration.html">Configuration</a>
            <a href="report.html">HTML Report</a>
            <a href="ci.html">CI</a>
            <a href="contributing.html">Contribute</a>
            <a href="contact.html">Contact</a>
        </nav>
    </div>
</header>
<main class="container">

    <div class="card">
        <h2>HTML Report (Interactive)</h2>
        <p class="muted">This report template is designed to be generated by the plugin. The plugin can either:</p>
        <ol>
            <li>Write a JSON file and replace the placeholder in this HTML, or</li>
            <li>Embed a JSON object into <code>window.reportData</code> when writing the HTML directly.</li>
        </ol>

        <p>Below is an interactive client-side template. If the plugin writes this file and embeds <code>window.reportData</code>,
            the report becomes navigable.</p>

        <div style="margin-top:12px" id="reportRoot" class="card">
            <h3 id="title">Dead Code Detector Report</h3>
            <div id="summary" class="muted"></div>
            <div id="details" style="margin-top:10px"></div>
        </div>

        <pre style="margin-top:14px"><code>// Example usage inside plugin (pseudo-Kotlin)
val htmlTemplate = file("report-template.html").readText()
val populated = htmlTemplate.replace("/*REPORT_JSON_PLACEHOLDER*/", gson.toJson(report))
file("build/reports/dead-code-detector/report.html").writeText(populated)</code></pre>
    </div>

    <script>
        // If window.reportData exists (plugin can inject), render it. Otherwise try to fetch report.json next to the file.
        (function () {
            function render(report) {
                const s = document.getElementById('summary');
                s.innerHTML = `<strong>Dead classes:</strong> ${report.deadClasses.length} &nbsp; <strong>Unused deps:</strong> ${report.unusedDependencies.length}`;
                const details = document.getElementById('details');

                function section(title, list) {
                    if (!list || list.length === 0) return '';
                    return `<div style="margin-top:10px"><h4>${title}</h4><pre>${list.map(x => typeof x === 'string' ? x : JSON.stringify(x, null, 2)).join('\n\n')}</pre></div>`;
                }

                details.innerHTML = section('Dead classes', report.deadClasses) + section('Dead methods', report.deadMethods) + section('Dead fields', report.deadFields) + section('Dead resources', report.deadResources) + section('Unused dependencies', report.unusedDependencies);
            }

            if (window.reportData) {
                render(window.reportData);
                return;
            }
            const fetchUrl = 'report.json';
            fetch(fetchUrl).then(r => r.json()).then(render).catch(() => {
                document.getElementById('summary').innerText = 'No embedded report found. To use this template, either embed window.reportData or place report.json alongside this file.';
            });
        })();
    </script>

</main>
<footer>
    © 2025 Aria Danesh — Dead Code Detector · MIT License · Contact: <a href="mailto:aria.danesh.work@gmail.com">aria.danesh.work@gmail.com</a>
</footer>
</body>
</html>
